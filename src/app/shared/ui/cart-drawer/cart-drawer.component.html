<p-sidebar
  [visible]="visible()"
  position="right"
  header="Mon panier"
  (onHide)="close()"
  styleClass="w-30rem">

  <ng-container *ngIf="items().length > 0; else emptyCart">

    <p-card *ngFor="let item of items()" class="mb-3">
      <div class="flex justify-content-between align-items-center">
        <div>
          <h4>{{ item.product.name }}</h4>
          <p>{{ item.product.price | currency:'EUR' }}</p>

          <p><strong>Quantit√© :</strong></p>
          <p-inputNumber
            [(ngModel)]="item.quantity"
            [min]="1"
            [max]="item.product.quantity"
            [showButtons]="true"
            buttonLayout="horizontal"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
            (onInput)="updateQuantity(item)">
          </p-inputNumber>
        </div>

        <button
          pButton
          icon="pi pi-trash"
          class="p-button-danger p-button-text"
          (click)="remove(item)">
        </button>
      </div>
    </p-card>

    <div class="flex justify-content-between align-items-center mt-3">
      <strong>Total articles :</strong>
      <span>{{ totalQuantity() }}</span>
    </div>

  </ng-container>

  <ng-template #emptyCart>
    <p class="text-center">Panier vide</p>
  </ng-template>

</p-sidebar>
